<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart â€“ Style Fusion</title>
  <link rel="stylesheet" href="index.css">
  <meta name="description" content="Your Shopping Cart at Style Fusion.">
</head>
<body>

<header>
  <div class="header-top">
    <h1>Style Fusion</h1>
    <div style="display:flex;align-items:center;gap:16px;">
      <div class="cart-icon-wrap">
        <a href="cart.html" title="Cart">ðŸ›’</a>
        <span class="cart-badge">0</span>
      </div>
      <button class="hamburger" id="hamburger" aria-label="Toggle menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>
  </div>
  <nav>
    <ul id="nav-menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="productview.html">Shop</a></li>
      <li><a href="product.html">Categories</a></li>
      <li><a href="contactus.html">Contact Us</a></li>
      <li><a href="aboutus.html">About Us</a></li>
      <li><a href="cart.html">Cart</a></li>
      <li><a href="search.html">Search</a></li>
    </ul>
  </nav>
</header>

<main>
  <div class="cart-container">
    <h2>Your Shopping Cart</h2>
    <div id="cartContent"></div>
  </div>
</main>

<footer>
  <p>&copy; 2024 Style Fusion. All rights reserved.</p>
</footer>

<button id="scrollToTop" onclick="scrollToTop()" title="Back to top">â†‘</button>
<script src="script.js"></script>
<script>
  function renderCart() {
    const cart = getCart();
    const container = document.getElementById('cartContent');

    if (cart.length === 0) {
      container.innerHTML = `
        <div class="empty-cart">
          <p style="font-size:3rem;">ðŸ›’</p>
          <h3>Your cart is empty!</h3>
          <p>Looks like you haven't added anything yet.</p>
          <a href="product.html">Start Shopping â†’</a>
        </div>`;
      return;
    }

    const SHIPPING = 50;
    let subtotal = cart.reduce((s, i) => s + i.price * i.qty, 0);

    const rows = cart.map((item, idx) => `
      <tr>
        <td data-label="Product">
          <div class="cart-product">
            <img src="${item.img}" alt="${item.name}">
            <div class="product-info"><h4>${item.name}</h4></div>
          </div>
        </td>
        <td data-label="Quantity">
          <input type="number" value="${item.qty}" min="1"
            onchange="updateQty(${idx}, this.value)">
        </td>
        <td data-label="Price">â‚¹${item.price}</td>
        <td data-label="Total">â‚¹${item.price * item.qty}</td>
        <td data-label="Action">
          <button class="remove-btn" onclick="removeItem(${idx})">Remove</button>
        </td>
      </tr>`).join('');

    container.innerHTML = `
      <table class="cart-table">
        <thead>
          <tr>
            <th>Product</th><th>Quantity</th><th>Price</th><th>Total</th><th>Action</th>
          </tr>
        </thead>
        <tbody>${rows}</tbody>
      </table>
      <div class="cart-summary">
        <h3>Cart Summary</h3>
        <p>Subtotal: <span>â‚¹${subtotal}</span></p>
        <p>Shipping: <span>â‚¹${SHIPPING}</span></p>
        <p>Total: <strong>â‚¹${subtotal + SHIPPING}</strong></p>
        <a href="checkout.html" class="checkout-btn">Proceed to Checkout</a>
      </div>`;
  }

  function removeItem(idx) {
    const cart = getCart();
    cart.splice(idx, 1);
    saveCart(cart);
    showToast('Item removed from cart.');
    renderCart();
  }

  function updateQty(idx, val) {
    const cart = getCart();
    cart[idx].qty = Math.max(1, parseInt(val) || 1);
    saveCart(cart);
    renderCart();
  }

  renderCart();
</script>
</body>
</html>
